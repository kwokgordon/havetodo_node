<div class="well sidebar">
  <ul style="list-style-type: none;">
    <li>
    	  <a href="/users/tasks">All Tasks <span class="badge">{{tasks.length}}</span></a>
    </li>
  </ul>
  
  <hr>

  <ul style="list-style-type: none;">
    <li>Tasklists</li>
    	  <li ng-repeat="tasklist in tasklists">
    	  	<div class="circle" style="background-color: {{tasklist.color}}" ></div>
    	  	{{tasklist.name}}
    	  </li>
    <li><a id="CreateTasklist" href="#" data-toggle="modal" data-target="#CreateTasklistModal">Create Tasklist</a></li>
  </ul>

<!-- Modal -->
<div class="modal fade" id="CreateTasklistModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="display: none;">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h4 class="modal-title" id="myModalLabel">Create TaskList</h4>
      </div>
      <div class="modal-body">
				<form name="AddTasklistForm">
					<div class="field">
						<label>Name</label>
						<input type="text" ng-model="formData.name" autofocus required>
					</div>
					<div class="field">
						<label>Color</label>
						<input id="tasklist_color" type="color" ng-model="formData.color">
					</div>
				</form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
				<button type="submit" class="btn btn-primary" ng-click="createTasklist()" ng-disabled="!AddTasklistForm.$valid">Add</button>
      </div>
    </div>
  </div>
</div>

<script>
$('#CreateTasklistModal').on('shown.bs.modal', function () {
    $(this).find("[autofocus]:first").focus();
    $(this).find("#tasklist_color").val(getRandomColor());
})

function getRandomColor() {
    var letters = '0123456789ABCDEF'.split('');
    var color = '#';
    for (var i = 0; i < 6; i++ ) {
        color += letters[Math.floor(Math.random() * 16)];
    }
    return color;
}

</script>

</div>

